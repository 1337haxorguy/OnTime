NOTES TO SELF:
* Need to include the AI-generated follow up questions and user's answers to these questions in the user_provided_info section
* user_provided_info section will simply be the input parameters for the LLM when generating the JSON, the output format will be a singe weekly_schedules JSON object
* Should allow for feedback in some capacity (feedback for specific tasks, days, and weeks) - probably not needed in the JSON format but something to consider for the database



JSON FORMAT SPEC:
{
    "user_provided_info":
        {
            "hobby_title": "<STRING: title of the hobby that this routine is built for>",
            "goals": [
                "<list of STRINGs: the user's primary goals associated with this hobby>"
            ],
            "restrictions": [
                "<list of STRINGs: specific restrictions/limitations that the user has that need to be taken into account when generating routines for this hobby>"
            ],
            "requests": [
                "<list of STRINGs: specific requests that the user has which should be taken into account when generating routines for this hobby>"
            ],
            "additional_context": "<STRING: miscellaneous context that the user has provided related to this hobby>",
            "timezone": "<STRING: the timezone that the user was in when they created this hobby in IANA timezone format>",
            "start_date": "<ISO DATE: yyyy-mm-dd format, the date that the user initially created this hobby>",
            "target_end_date": "<ISO DATE: yyyy-mm-dd format, target end date to achieve goals by>",
            "days_per_week": "<INT: how many days per week the user wants to contribute to this hobby>",
            "prefers_time_blocks": "<BOOLEAN: true indicates that the user wants specific time blocks on the schedule for each day's tasks, false means they just want untimed to-do lists for each day with no calendar integration>",
            "min_intraday_frequency": "<INT: for any given day that the user dedicates some amount of time to this hobby, this number represents the MINIMUM number of time blocks they should have within the day>",
            "max_intraday_frequency": "<INT: for any given day that the user dedicates some amount of time to this hobby, this number represents the MAXIMUM number of time blocks they should have within the day>",
            "min_hours_per_week": "<INT: represents the MINIMUM total hours per week that the user wants to dedicate to this hobby>",
            "max_hours_per_week": "<INT: represents the MAXIMUM total hours per week that the user wants to dedicate to this hobby>"
        },
    "weekly_schedules": [
        '''
        <list of JSON OBJECTS: each weekly_schedules object represents a single week in the routine and has the following format:
        {
            "week_index": "<INT: 1-based index representing the order of weeks for the given hobby (week 1, week 2, week 3, ..., week n) >",
            "start_date": "<ISO DATE: yyyy-mm-dd format, the date for Monday of the current week (NOTE: if week_index == 1, start_date does not necessarily have to be on a Monday)>",
            "end_date": "<ISO DATE: yyyy-mm-dd format, the date for Sunday of the current week (NOTE: if the current week's date range includes user_provided_info.target_end_date, end_date does not necessarily have to be on a Sunday)>",
            "daily_tasks": [
                '''
                <list of JSON OBJECTS: each daily_tasks object represents a single day in the given week's routine and has the following format:
                {
                    "day_of_week": "<STRING: Monday | Tuesday | Wednesday | Thursday | Friday | Saturday | Sunday>",
                    "date": "<ISO DATE: yyyy-mm-dd format, the date the first day's tasks>",
                    "objective": "<STRING: general overview explaining the main purpose and goals for the given day",
                    "time_blocks": [
                        '''
                        <list of JSON OBJECTS: each time_blocks object represents a specific time block in the given day's calendar and has the following format:
                        {
                            "block_index": "<INT: 1-based index representing the order of time blocks for the given day (time blocks with a lower block_index occur earlier in the day)>",
                            "label": "<STRING: short title which tells the user the main purpose/focus of this time block>",
                            "start_time": "<STRING: HH:MM format in military time (e.g. 01:30, 15:00, 23:45, etc) OR null if the user's prefers_time_blocks value is False (in which case start_time and end_time must be null)>",
                            "end_time": "<STRING: HH:MM format in military time (e.g. 01:30, 15:00, 23:45, etc) OR null if the user's prefers_time_blocks value is False (in which case start_time and end_time must be null)>",
                            "tasks": [
                                '''
                                <list of JSON OBJECTS: each tasks object describes a particular task for user which needs to be completed on the given day and has the following format:
                                {
                                    "task_index": "<INT: 1-based index representing the order of tasks within a given time block (tasks with a lower task_index are to be completed first)",
                                    "title": "<STRING: a title which briefly describes the given task>",
                                    "description": "<STRING: in-depth notes detailing exactly what the user needs to do in order to complete the current task>",
                                    "estimated_minutes": "<INT: an integer value that estimates how long this task should take the user to complete>"
                                }
                                <IMPORTANT NOTE: the sum of tasks[*].estimated_minutes should AT LEAST equal user_provided_info.min_hours_per_week * 60 and should AT MOST equal user_provided_info.max_hours_per_week * 60>
                                '''
                            ]
                        }
                        <IMPORTANT NOTE: time_blocks should always contain AT LEAST user_provided_info.min_intraday_frequency items and AT MOST user_provided_info.max_intraday_frequency items, even if user_provided_info.prefers_time_blocks == false (in which case each time_blocks object represents an untimed session within the given day)>
                        '''
                    ]
                }
                <IMPORTANT NOTE: daily_tasks should always contain EXACTLY user_provided_info.days_per_week entries (e.g. if user_provided_info.days_per_week == 4, exactly 4 JSON objects should exist within daily_tasks) and all dates should fall within the week's [start_date, end_date] range>
                '''
            ]
        }
        <IMPORTANT NOTE: if user_provided_info.start_date is NOT on a Monday, weekly_schedules[0].start_date should be set to the Monday of the following week>
        '''
    ]
}



EXAMPLE #1:
{
  "user_provided_info": {
    "hobby_title": "Guitar Practice",
    "goals": [
      "Learn 8 songs from memory",
      "Improve barre chord transitions and endurance",
      "Increase fingerpicking accuracy at steady tempo"
    ],
    "restrictions": [
      "Cannot practice loudly after 21:00",
      "Occasional wrist soreness—avoid long high-tension holds"
    ],
    "requests": [
      "Include warm-up and cool-down in each session",
      "Balance technique drills with song work",
      "Use measurable checkpoints (tempo, clean reps, error rate)"
    ],
    "additional_context": "Intermediate player with more availability on weekends. Prefers early evenings on weekdays.",
    "timezone": "America/New_York",
    "start_date": "2026-02-10",
    "target_end_date": "2026-03-31",
    "days_per_week": 4,
    "prefers_time_blocks": true,
    "min_intraday_frequency": 1,
    "max_intraday_frequency": 2,
    "min_hours_per_week": 4,
    "max_hours_per_week": 6
  },
  "weekly_schedules": [
    {
      "week_index": 1,
      "start_date": "2026-02-16",
      "end_date": "2026-02-22",
      "daily_tasks": [
        {
          "day_of_week": "Monday",
          "date": "2026-02-16",
          "objective": "Set a relaxed baseline for barre transitions and clean timing on Song 1 without aggravating the wrist.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Warm-up + barre transitions",
              "start_time": "18:30",
              "end_time": "19:15",
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Warm-up and mobility",
                  "description": "2 minutes gentle wrist circles, then 3 minutes fingertip taps on each string. Keep fretting-hand pressure minimal; stop if sharp pain appears.",
                  "estimated_minutes": 8
                },
                {
                  "task_index": 2,
                  "title": "Chromatic relaxation drill",
                  "description": "Play 1-2-3-4 on each string at 60 bpm, focusing on relaxed shoulders and minimal pressure. If buzzing occurs, slow down and adjust finger curvature rather than squeezing.",
                  "estimated_minutes": 12
                },
                {
                  "task_index": 3,
                  "title": "Barre transition reps (slow and clean)",
                  "description": "Alternate E-shape F major ↔ C major. Goal: 10 clean transitions in a row (no buzz, no dead strings). Reset the count if a transition is messy.",
                  "estimated_minutes": 18
                }
              ]
            },
            {
              "block_index": 2,
              "label": "Song 1 timing + problem-spot loops",
              "start_time": "19:20",
              "end_time": "20:00",
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Song 1 playthrough at reduced tempo",
                  "description": "Play verse + chorus at ~75% target tempo with a metronome. Mark the first two measures where timing slips or tone degrades.",
                  "estimated_minutes": 15
                },
                {
                  "task_index": 2,
                  "title": "Loop trouble measures",
                  "description": "For each marked measure, loop 6 times slowly, then 6 times at tempo. Only increase speed if you can play 3 clean reps in a row.",
                  "estimated_minutes": 15
                },
                {
                  "task_index": 3,
                  "title": "Cool-down",
                  "description": "2 minutes very light open-chord strums, then gentle forearm stretch. Aim to finish with hands feeling looser than when you started.",
                  "estimated_minutes": 8
                }
              ]
            }
          ]
        },
        {
          "day_of_week": "Wednesday",
          "date": "2026-02-18",
          "objective": "Build fingerpicking consistency and map Song 2 structure so practice becomes repeatable and measurable.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Fingerpicking consistency",
              "start_time": "18:30",
              "end_time": "19:20",
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Warm-up (right-hand focus)",
                  "description": "Open strings with P-I-M-A pattern at comfortable speed for 3 minutes. Keep thumb steady; avoid rushing the higher strings.",
                  "estimated_minutes": 6
                },
                {
                  "task_index": 2,
                  "title": "Steady-thumb drill",
                  "description": "Alternate bass notes with thumb while fingers pluck treble strings. Set metronome to 60–70 bpm. Goal: 2 minutes continuous without a rhythm break (restart the timer on mistakes).",
                  "estimated_minutes": 18
                },
                {
                  "task_index": 3,
                  "title": "Dynamic control passes",
                  "description": "Play the same pattern three times: soft, medium, loud—without changing tempo. Note where tone gets harsh; reduce attack instead of slowing down.",
                  "estimated_minutes": 10
                }
              ]
            },
            {
              "block_index": 2,
              "label": "Song 2 structure + section work",
              "start_time": "19:25",
              "end_time": "20:00",
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Song 2 roadmap",
                  "description": "Write a quick structure: intro/verse/chorus/bridge. Identify repeating chord progressions and annotate any non-obvious changes.",
                  "estimated_minutes": 8
                },
                {
                  "task_index": 2,
                  "title": "Intro + verse slow reps",
                  "description": "Practice intro + verse at slow tempo. Do 3 clean reps before increasing speed. If wrist feels sore, reduce fretting pressure and keep tempo slow.",
                  "estimated_minutes": 18
                },
                {
                  "task_index": 3,
                  "title": "Cool-down",
                  "description": "Slow arpeggios on easy chords and gentle stretches. If any soreness is present, stop early and note it for the next session’s adjustments.",
                  "estimated_minutes": 7
                }
              ]
            }
          ]
        },
        {
          "day_of_week": "Friday",
          "date": "2026-02-20",
          "objective": "Increase barre endurance in short sets and reinforce memory by chaining Songs 1 and 2.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Barre endurance (low tension)",
              "start_time": "17:45",
              "end_time": "18:30",
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Warm-up and tension check",
                  "description": "Chromatic run at 55–60 bpm, then briefly fret a barre and release repeatedly to find the minimum pressure needed for clean tone.",
                  "estimated_minutes": 10
                },
                {
                  "task_index": 2,
                  "title": "Endurance sets",
                  "description": "4 sets: 90 seconds light-pressure barre hold + 60 seconds rest. Rotate F major and B minor shapes. Stop immediately if sharp pain (fatigue is okay, pain is not).",
                  "estimated_minutes": 20
                },
                {
                  "task_index": 3,
                  "title": "Clean-change metronome bars",
                  "description": "At a slow tempo, change chords only on beat 1. Goal: 16 bars with clean tone throughout. If buzzing persists, slow down and adjust wrist angle.",
                  "estimated_minutes": 12
                }
              ]
            }
          ]
        },
        {
          "day_of_week": "Saturday",
          "date": "2026-02-21",
          "objective": "Learn new material (Song 3) while keeping technique relaxed; finish with a confidence run.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Song 3 learning + confidence run",
              "start_time": "14:00",
              "end_time": "15:30",
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Extended warm-up",
                  "description": "Fretting-hand independence pattern (1-3-2-4) very slowly. Focus on relaxed shoulders and light touch; pause if forearm tightness builds.",
                  "estimated_minutes": 12
                },
                {
                  "task_index": 2,
                  "title": "Song 3 section mapping",
                  "description": "Listen once, then outline sections (intro/verse/chorus/bridge). Write a short roadmap and identify the hardest transition.",
                  "estimated_minutes": 10
                },
                {
                  "task_index": 3,
                  "title": "Learn chorus + bridge",
                  "description": "Work chorus and bridge at slow tempo. Loop the hardest transition for 10 clean reps before moving on. Only increase speed after 3 consecutive clean reps.",
                  "estimated_minutes": 35
                },
                {
                  "task_index": 4,
                  "title": "Timing groove drill",
                  "description": "Metronome practice: play chord stabs on beats 2 and 4 for 3 minutes, then return to full strumming for 3 minutes. Keep timing steady.",
                  "estimated_minutes": 12
                },
                {
                  "task_index": 5,
                  "title": "Confidence playthrough + cool-down",
                  "description": "Play Song 1 straight through at comfortable tempo without stopping. Finish with gentle stretches and 2 minutes soft fingerpicking.",
                  "estimated_minutes": 16
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



EXAMPLE #2:
{
  "user_provided_info": {
    "hobby_title": "Half-Marathon Training",
    "goals": [
      "Complete a half-marathon comfortably",
      "Build consistent aerobic base and reduce injury risk",
      "Improve pacing awareness and fueling routine"
    ],
    "restrictions": [
      "Knee is sensitive to sudden mileage spikes",
      "Only one long session per weekend day"
    ],
    "requests": [
      "Include mobility and strength work each training day",
      "Keep intensity mostly easy with one quality session weekly",
      "Provide clear effort cues (easy/moderate/hard)"
    ],
    "additional_context": "Beginner-to-intermediate runner who can run 3–4 miles continuously. Prefers morning workouts, but does not want calendar time blocks.",
    "timezone": "America/Chicago",
    "start_date": "2026-03-04",
    "target_end_date": "2026-05-17",
    "days_per_week": 4,
    "prefers_time_blocks": false,
    "min_intraday_frequency": 2,
    "max_intraday_frequency": 3,
    "min_hours_per_week": 4,
    "max_hours_per_week": 6
  },
  "weekly_schedules": [
    {
      "week_index": 1,
      "start_date": "2026-03-09",
      "end_date": "2026-03-15",
      "daily_tasks": [
        {
          "day_of_week": "Monday",
          "date": "2026-03-09",
          "objective": "Easy aerobic run plus mobility to build consistency without stressing the knee.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Easy run (aerobic base)",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Easy run",
                  "description": "Run 30–35 minutes at easy effort (you can hold a conversation). If knee discomfort rises above mild, switch to run/walk (2 min run / 1 min walk).",
                  "estimated_minutes": 35
                },
                {
                  "task_index": 2,
                  "title": "Post-run walk",
                  "description": "Walk 5 minutes to bring heart rate down gradually and reduce stiffness.",
                  "estimated_minutes": 5
                }
              ]
            },
            {
              "block_index": 2,
              "label": "Mobility + light strength",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Mobility circuit",
                  "description": "Ankles, hips, calves: 30–45 seconds each. Focus on controlled range of motion, not forcing depth.",
                  "estimated_minutes": 10
                },
                {
                  "task_index": 2,
                  "title": "Strength (knee-friendly)",
                  "description": "2 sets: glute bridges (10–12), side-lying clamshells (10–12/side), calf raises (12–15). Stop short of pain; aim for smooth reps.",
                  "estimated_minutes": 15
                }
              ]
            }
          ]
        },
        {
          "day_of_week": "Wednesday",
          "date": "2026-03-11",
          "objective": "Introduce one controlled quality stimulus (moderate intervals) while keeping total stress manageable.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Quality session (moderate intervals)",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Warm-up",
                  "description": "10 minutes easy jog + 3 x 20-second relaxed strides with full recovery walk between. Strides should feel smooth, not sprinting.",
                  "estimated_minutes": 15
                },
                {
                  "task_index": 2,
                  "title": "Intervals",
                  "description": "4 x 3 minutes at moderate effort (you can speak in short phrases) with 2 minutes easy jog/walk recovery. Keep form tall; stop if knee pain sharpens.",
                  "estimated_minutes": 20
                },
                {
                  "task_index": 3,
                  "title": "Cool-down",
                  "description": "8–10 minutes easy jog/walk until breathing returns to normal.",
                  "estimated_minutes": 10
                }
              ]
            },
            {
              "block_index": 2,
              "label": "Mobility + core",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Hip/ankle mobility",
                  "description": "Hip flexor stretch, calf stretch, ankle rocks. Keep stretches gentle and sustained.",
                  "estimated_minutes": 10
                },
                {
                  "task_index": 2,
                  "title": "Core stability",
                  "description": "2 rounds: dead bug (8/side), bird dog (8/side), side plank (20–30 seconds/side). Prioritize control over speed.",
                  "estimated_minutes": 15
                }
              ]
            }
          ]
        },
        {
          "day_of_week": "Friday",
          "date": "2026-03-13",
          "objective": "Recovery-focused easy run to build weekly volume while staying fresh for the weekend long run.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Easy run (recovery)",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Easy run",
                  "description": "Run 25–30 minutes easy. Keep cadence light; if legs feel heavy, do 20 minutes easy plus 10 minutes brisk walk instead.",
                  "estimated_minutes": 30
                },
                {
                  "task_index": 2,
                  "title": "Light cooldown walk",
                  "description": "Walk 5 minutes, then hydrate.",
                  "estimated_minutes": 5
                }
              ]
            },
            {
              "block_index": 2,
              "label": "Strength (short, supportive)",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Lower-body stability",
                  "description": "2 sets: split squat to comfortable depth (6–8/side), single-leg Romanian deadlift (6–8/side), calf raises (12–15). Keep reps slow and controlled.",
                  "estimated_minutes": 20
                }
              ]
            }
          ]
        },
        {
          "day_of_week": "Sunday",
          "date": "2026-03-15",
          "objective": "Long easy run to extend endurance; practice pacing and a simple fueling/hydration routine.",
          "time_blocks": [
            {
              "block_index": 1,
              "label": "Long run (easy endurance)",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Long easy run",
                  "description": "Run 50–60 minutes easy (conversational). If needed, use run/walk (4 min run / 1 min walk) to keep knee happy and effort steady.",
                  "estimated_minutes": 60
                },
                {
                  "task_index": 2,
                  "title": "Fueling practice",
                  "description": "During the run, practice sipping water every ~15 minutes. After the run, eat a carb+protein snack within 60 minutes.",
                  "estimated_minutes": 5
                }
              ]
            },
            {
              "block_index": 2,
              "label": "Mobility + recovery",
              "start_time": null,
              "end_time": null,
              "tasks": [
                {
                  "task_index": 1,
                  "title": "Recovery mobility",
                  "description": "Gentle calves/hamstrings/hips mobility for 10 minutes. Keep it easy—this is about reducing stiffness, not stretching aggressively.",
                  "estimated_minutes": 10
                },
                {
                  "task_index": 2,
                  "title": "Recovery check-in",
                  "description": "Rate knee discomfort (0–10) and overall fatigue (0–10). Note anything above 3/10 so next week can adjust intensity or volume.",
                  "estimated_minutes": 5
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
